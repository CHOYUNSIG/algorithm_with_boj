---
layout: post
title: íŠ¸ë¼ì´
subtitle: Trie
author: CHOYUNSIG
categories: post
banner:
  video: null
  loop: true
  volume: 0
  start_at: 0
  image: https://images.unsplash.com/photo-1515263487990-61b07816b324?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D
  opacity: 1.0
  background: null
  height: null
  min_height: null
  heading_style: null
  subheading_style: null
tags: ìë£Œ_êµ¬ì¡°(data_structures) íŠ¸ë¦¬(trees) ë¬¸ìì—´(string) íŠ¸ë¼ì´(trie)
sidebar: null
---

## ì†Œê°œ

íŠ¸ë¼ì´ë€ ë¬¸ìì—´ì˜ ì§‘í•©ì„ íŠ¸ë¦¬ë¡œ ê´€ë¦¬í•˜ëŠ” ìë£Œêµ¬ì¡°ì´ë‹¤. ë¬¼ë¡  ë¬¸ìì—´ì´ ì•„ë‹ˆë”ë¼ë„ ì–´ë– í•œ ìˆ˜ì—´ì˜ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë°ì— ì“°ì¼ ìˆ˜ ìˆë‹¤. íŠ¸ë¼ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ìì—´ ì§‘í•©ì— ì„ì˜ì˜ ë¬¸ìì—´ì´ ì†í•˜ëŠ”ì§€ë¥¼ ë¹ ë¥´ê²Œ êµ¬í•  ìˆ˜ ìˆë‹¤.

## ì›ë¦¬

ë‹¤ìŒ ë¬¸ìì—´ ì§‘í•©ì„ íŠ¸ë¼ì´ë¡œ ì €ì¥í•´ë³´ì.

$$\lbrace\text{apple, apollo, ban, banana}\rbrace$$

ë¬¸ìì—´ì˜ ê° ë¬¸ìë¥¼ ê²½ë¡œë¼ê³  ìƒê°í•˜ê³  íŠ¸ë¦¬ë¥¼ êµ¬ì„±í•˜ë©´ ëœë‹¤. ì´ë¥¼í…Œë©´ $\text{apple}$ì´ë¼ëŠ” ë¬¸ìì—´ì€ íŠ¸ë¦¬ì˜ ë£¨íŠ¸ë¶€í„° ì°¨ë¡€ëŒ€ë¡œ $\text a$, $\text p$, $\text p$, $\text l$, $\text e$ì˜ ê°„ì„ ì„ ë§Œë“¤ì–´ì£¼ë©´ ëœë‹¤.

<pre class="mermaid">
    graph LR

    1 -. <p style="color: #888">a</p> .-> 2
    2 -. <p style="color: #888">p</p> .-> 3
    3 -. <p style="color: #888">p</p> .-> 4
    4 -. <p style="color: #888">l</p> .-> 5
    5 -. <p style="color: #888">e</p> .-> 6

    1(( ))
    2(( ))
    3(( ))
    4(( ))
    5(( ))
    6(( )):::end_flag

    classDef end_flag stroke:#0f0, fill:#EFE
</pre>

ë‹¤ìŒìœ¼ë¡œ ë¬¸ìì—´ $\text{apollo}$ë¥¼ ì €ì¥í•´ë³´ì. ë£¨íŠ¸ì—ì„œë¶€í„° ì°¨ë¡€ëŒ€ë¡œ $\text a$, $\text p$, $\text o$, $\text l$, $\text l$, $\text o$ì˜ ê°„ì„ ì„ ë§Œë“¤ë˜ ì´ë¯¸ ë§Œë“¤ì–´ì§„ ê°„ì„ ì´ ìˆì„ ê²½ìš° ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³  ì¬í™œìš©í•œë‹¤.

<pre class="mermaid">
    graph LR

    1 -. <p style="color: #888">a</p> .-> 2
    2 -. <p style="color: #888">p</p> .-> 3
    3 -. <p style="color: #888">p</p> .-> 4
    4 -. <p style="color: #888">l</p> .-> 5
    5 -. <p style="color: #888">e</p> .-> 6
    3 -. <p style="color: #888">o</p> .-> 7
    7 -. <p style="color: #888">l</p> .-> 8
    8 -. <p style="color: #888">l</p> .-> 9
    9 -. <p style="color: #888">o</p> .-> 10

    1(( ))
    2(( ))
    3(( ))
    4(( ))
    5(( ))
    6(( )):::end_flag
    7(( ))
    8(( ))
    9(( ))
    10(( )):::end_flag

    classDef end_flag stroke:#0f0, fill:#EFE
</pre>

ì €ì¥ì„ ë§ˆì¹œ í›„ íŠ¸ë¼ì´ì˜ ëª¨ìŠµì€ ë‹¤ìŒê³¼ ê°™ë‹¤. ì´ˆë¡ìƒ‰ìœ¼ë¡œ í‘œì‹œëœ ì •ì ëŠ” ì§‘í•© ë‚´ì˜ ì–´ë– í•œ ë‹¨ì–´ì˜ ì¢…ì ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤.

<pre class="mermaid">
    graph LR

    1 -. <p style="color: #888">a</p> .-> 2
    1 -. <p style="color: #888">b</p> .-> 3
    2 -. <p style="color: #888">p</p> .-> 4
    4 -. <p style="color: #888">p</p> .-> 5
    5 -. <p style="color: #888">l</p> .-> 6
    6 -. <p style="color: #888">e</p> .-> 7
    4 -. <p style="color: #888">o</p> .-> 8
    8 -. <p style="color: #888">l</p> .-> 9
    9 -. <p style="color: #888">l</p> .-> 10
    10 -. <p style="color: #888">o</p> .-> 11
    3 -. <p style="color: #888">a</p> .-> 12
    12 -. <p style="color: #888">n</p> .-> 13
    13 -. <p style="color: #888">a</p> .-> 14
    14 -. <p style="color: #888">n</p> .-> 15
    15 -. <p style="color: #888">a</p> .-> 16

    1(( ))
    2(( ))
    3(( ))
    4(( ))
    5(( ))
    6(( ))
    7(( )):::end_flag
    8(( ))
    9(( ))
    10(( ))
    11(( )):::end_flag
    12(( ))
    13(( )):::end_flag
    14(( ))
    15(( ))
    16(( )):::end_flag

    classDef end_flag stroke:#0f0, fill:#EFE
</pre>

ë¬¸ìì—´ ì§‘í•©ìœ¼ë¡œë¶€í„° íŠ¸ë¼ì´ë¥¼ ë§Œë“¤ì–´ë‚¼ ë•Œì˜ ì‹œê°„ë³µì¡ë„ëŠ” ë¬¸ìì—´ ì§‘í•©ì˜ ëª¨ë“  ë¬¸ìì—´ì˜ ê¸¸ì´ì˜ í•©ì¸ $O(\sum{\left\vert S\right\vert})$ì´ ë  ê²ƒì´ë‹¤. ë§Œë“¤ì–´ì§„ íŠ¸ë¼ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¬¸ìì—´ ì§‘í•©ì— íŠ¹ì • ë¬¸ìì—´ì´ ì†í•˜ëŠ”ì§€ë¥¼ íŒë³„í•´ë³´ì. íŠ¸ë¦¬ë¥¼ ë”°ë¼ê°€ë©´ì„œ ì•ŒíŒŒë²³ì˜ ê°„ì„ ì´ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ë©´ì„œ ì§„í–‰í•˜ë˜, ì´ˆë¡ìƒ‰ ì •ì ì—ì„œ ëë‚˜ëŠ”ì§€ë¥¼ ë³´ë©´ ëœë‹¤.

- ë¬¸ìì—´ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš°

ğŸ’¡ ì£¼ì–´ì§„ ë¬¸ìì—´ = $\text{apollo}$

ë¬¸ìì—´ê³¼ ë§¤ì¹­ë˜ëŠ” ë£¨íŠ¸ê°€ ì¡´ì¬í•˜ë¯€ë¡œ ì´ ë¬¸ìì—´ì€ ì§‘í•©ì— ì¡´ì¬í•œë‹¤.

<pre class="mermaid">
    graph LR

    1 -- <p style="color: #888">a</p> --> 2
    1 -. <p style="color: #888">b</p> .-> 3
    2 -- <p style="color: #888">p</p> --> 4
    4 -. <p style="color: #888">p</p> .-> 5
    5 -. <p style="color: #888">l</p> .-> 6
    6 -. <p style="color: #888">e</p> .-> 7
    4 -- <p style="color: #888">o</p> --> 8
    8 -- <p style="color: #888">l</p> --> 9
    9 -- <p style="color: #888">l</p> --> 10
    10 -- <p style="color: #888">o</p> --> 11
    3 -. <p style="color: #888">a</p> .-> 12
    12 -. <p style="color: #888">n</p> .-> 13
    13 -. <p style="color: #888">a</p> .-> 14
    14 -. <p style="color: #888">n</p> .-> 15
    15 -. <p style="color: #888">a</p> .-> 16

    1(( ))
    2(( ))
    3(( ))
    4(( ))
    5(( ))
    6(( ))
    7(( )):::end_flag
    8(( ))
    9(( ))
    10(( ))
    11(( )):::end_flag
    12(( ))
    13(( )):::end_flag
    14(( ))
    15(( ))
    16(( )):::end_flag

    classDef end_flag stroke:#0f0, fill:#EFE
</pre>
    
- ë¬¸ìì—´ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°

ğŸ’¡ ì£¼ì–´ì§„ ë¬¸ìì—´ = $\text{application}$

ë¬¸ìì—´ê³¼ ë§¤ì¹­ë˜ëŠ” ë£¨íŠ¸ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì´ ë¬¸ìì—´ì€ ì§‘í•©ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

<pre class="mermaid">
    graph LR

    1 -- <p style="color: #888">a</p> --> 2
    1 -. <p style="color: #888">b</p> .-> 3
    2 -- <p style="color: #888">p</p> --> 4
    4 -- <p style="color: #888">p</p> --> 5
    5 -- <p style="color: #888">l</p> --> 6
    6 -. <p style="color: #888">e</p> .-> 7
    4 -. <p style="color: #888">o</p> .-> 8
    8 -. <p style="color: #888">l</p> .-> 9
    9 -. <p style="color: #888">l</p> .-> 10
    10 -. <p style="color: #888">o</p> .-> 11
    3 -. <p style="color: #888">a</p> .-> 12
    12 -. <p style="color: #888">n</p> .-> 13
    13 -. <p style="color: #888">a</p> .-> 14
    14 -. <p style="color: #888">n</p> .-> 15
    15 -. <p style="color: #888">a</p> .-> 16

    1(( ))
    2(( ))
    3(( ))
    4(( ))
    5(( ))
    6(( )):::error
    7(( )):::end_flag
    8(( ))
    9(( ))
    10(( ))
    11(( )):::end_flag
    12(( ))
    13(( )):::end_flag
    14(( ))
    15(( ))
    16(( )):::end_flag

    classDef end_flag stroke:#0f0, fill:#EFE
    classDef error stroke:#f00, fill:#FEE
</pre>

ğŸ’¡ ì£¼ì–´ì§„ ë¬¸ìì—´ = $\text{bana}$

ë¬¸ìì—´ê³¼ ë§¤ì¹­ë˜ëŠ” ë£¨íŠ¸ëŠ” ì¡´ì¬í•˜ì§€ë§Œ, ì´ˆë¡ìƒ‰ ì •ì ì—ì„œ ëë‚˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì´ ë¬¸ìì—´ì€ ì§‘í•©ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

<pre class="mermaid">
    graph LR

    1 -. <p style="color: #888">a</p> .-> 2
    1 -- <p style="color: #888">b</p> --> 3
    2 -. <p style="color: #888">p</p> .-> 4
    4 -. <p style="color: #888">p</p> .-> 5
    5 -. <p style="color: #888">l</p> .-> 6
    6 -. <p style="color: #888">e</p> .-> 7
    4 -. <p style="color: #888">o</p> .-> 8
    8 -. <p style="color: #888">l</p> .-> 9
    9 -. <p style="color: #888">l</p> .-> 10
    10 -. <p style="color: #888">o</p> .-> 11
    3 -- <p style="color: #888">a</p> --> 12
    12 -- <p style="color: #888">n</p> --> 13
    13 -- <p style="color: #888">a</p> --> 14
    14 -. <p style="color: #888">n</p> .-> 15
    15 -. <p style="color: #888">a</p> .-> 16

    1(( ))
    2(( ))
    3(( ))
    4(( ))
    5(( ))
    6(( ))
    7(( )):::end_flag
    8(( ))
    9(( ))
    10(( ))
    11(( )):::end_flag
    12(( ))
    13(( )):::end_flag
    14(( )):::error
    15(( ))
    16(( )):::end_flag

    classDef end_flag stroke:#0f0, fill:#EFE
    classDef error stroke:#f00, fill:#FEE
</pre>

<p>íŠ¸ë¼ì´ì— ì„ì˜ì˜ ë¬¸ìì—´ì´ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ í‰ê°€í•  ë•Œì˜ ì‹œê°„ë³µì¡ë„ëŠ” ê·¸ ë¬¸ìì—´ì˜ ê¸¸ì´ì¸ $O(|S|)$ê°€ ë  ê²ƒì´ë‹¤. ì´ëŠ” ì§‘í•©ì— ì†í•œ ëª¨ë“  ë¬¸ìì—´ì— ëŒ€í•´ì„œ ì¼ì¹˜ ì—¬ë¶€ë¥¼ ê²€ì‚¬í•˜ëŠ” ì‹œê°„ë³´ë‹¤ ì ë‹¤.</p>

## êµ¬í˜„

```python
class Trie:
    # íŠ¸ë¼ì´ì˜ ê° ì •ì ì´ë‹¤.
    # ì•ŒíŒŒë²³ ê°„ì„ ê³¼ end_flagë¥¼ ì €ì¥í•œë‹¤.
    class Node:
        def __init__(self):
            self.edge: dict[str: 'Trie.Node'] = { }
            self.end_flag = False

    def __init__(self):
        self.root = Trie.Node()
    
    # íŠ¸ë¼ì´ì— ë¬¸ìì—´ì„ ì¶”ê°€í•œë‹¤.
    def add(self, string: str):
        now = self.root
        for s in string:
            if s not in now.edge:
                now.edge[s] = Trie.Node()
            now = now.edge[s]
        now.end_flag = True
    
    # íŠ¸ë¼ì´ì— ë¬¸ìì—´ì´ í¬í•¨ë˜ì–´ìˆëŠ”ì§€ë¥¼ ê²€ì‚¬í•œë‹¤.
    def contains(self, string: str) -> bool:
        now = self.root
        for s in string:
            if s not in now.edge:
                return False
            now = now.edge[s]
        return now.end_flag
```